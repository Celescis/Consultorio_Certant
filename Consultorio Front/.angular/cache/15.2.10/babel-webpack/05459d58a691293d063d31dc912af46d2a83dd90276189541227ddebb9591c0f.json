{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/tickets.service\";\nimport * as i2 from \"@angular/common\";\nfunction TicketsComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8)(2, \"div\", 9)(3, \"h5\", 10)(4, \"h3\");\n    i0.ɵɵtext(5, \"Estructura de Consulta:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"pre\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"json\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 1, ctx_r0.estructuraConsulta));\n  }\n}\nfunction TicketsComponent_div_11_div_2_span_11_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" / \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TicketsComponent_div_11_div_2_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, TicketsComponent_div_11_div_2_span_11_span_2_Template, 2, 0, \"span\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const telefono_r9 = ctx.$implicit;\n    const last_r10 = ctx.last;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", telefono_r9, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !last_r10);\n  }\n}\nfunction TicketsComponent_div_11_div_2_li_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const canal_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(canal_r12);\n  }\n}\nfunction TicketsComponent_div_11_div_2_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const info_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Fecha: \", i0.ɵɵpipeBind2(3, 6, info_r13.fecha, \"dd/MM/yyyy\"), \", Hora: \", info_r13.hora, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Estado: \", info_r13.estado, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Motivo: \", info_r13.motivo, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Responsable Ticket: \", info_r13.responsableTicket.nombre, \" \", info_r13.responsableTicket.apellido, \"\");\n  }\n}\nfunction TicketsComponent_div_11_div_2_div_23_div_6_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const solucion_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" Soluci\\u00F3n: \", solucion_r18.descripcion, \", \\u00C9xito: \", solucion_r18.exito ? \"S\\u00ED\" : \"No\", \" \");\n  }\n}\nfunction TicketsComponent_div_11_div_2_div_23_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\");\n    i0.ɵɵtemplate(4, TicketsComponent_div_11_div_2_div_23_div_6_li_4_Template, 2, 2, \"li\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const responsable_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Responsable: \", responsable_r16.nombre, \" \", responsable_r16.apellido, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", responsable_r16.soluciones);\n  }\n}\nfunction TicketsComponent_div_11_div_2_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TicketsComponent_div_11_div_2_div_23_div_6_Template, 5, 3, \"div\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const derivacion_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Derivaci\\u00F3n Fecha: \", i0.ɵɵpipeBind2(3, 4, derivacion_r14.fecha, \"dd/MM/yyyy\"), \", Hora: \", derivacion_r14.hora, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Departamento: \", derivacion_r14.departamento, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", derivacion_r14.responsables);\n  }\n}\nfunction TicketsComponent_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 13)(2, \"h5\", 10)(3, \"button\", 14);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 15)(6, \"div\", 16)(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10, \"Tel\\u00E9fonos: \");\n    i0.ɵɵtemplate(11, TicketsComponent_div_11_div_2_span_11_Template, 3, 2, \"span\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ul\");\n    i0.ɵɵtemplate(17, TicketsComponent_div_11_div_2_li_17_Template, 2, 1, \"li\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"p\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, TicketsComponent_div_11_div_2_div_22_Template, 10, 9, \"div\", 17);\n    i0.ɵɵtemplate(23, TicketsComponent_div_11_div_2_div_23_Template, 7, 7, \"div\", 17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ticket_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"heading\", i_r4, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"data-target\", \"#collapse\" + i_r4)(\"aria-controls\", \"collapse\" + i_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" Ticket \", i_r4 + 1, \": \", ticket_r3.cliente.nombre, \" \", ticket_r3.cliente.apellido, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"collapse\", i_r4, \"\");\n    i0.ɵɵattribute(\"aria-labelledby\", \"heading\" + i_r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Email: \", ticket_r3.cliente.contacto.email, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ticket_r3.cliente.contacto.telefonos);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Coordenadas: Latitud \", ticket_r3.cliente.ubicacion.geolocalizacion.coordinates[1], \", Longitud \", ticket_r3.cliente.ubicacion.geolocalizacion.coordinates[0], \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Plan: \", ticket_r3.cliente.plan.nombre, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ticket_r3.cliente.plan.canales);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Comentario Cliente: \", ticket_r3.comentarioCliente, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Es Empleado?: \", ticket_r3.cliente.esEmpleado ? \"S\\u00ED\" : \"No\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ticket_r3.infoTicket);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ticket_r3.derivacion.historialDerivaciones);\n  }\n}\nfunction TicketsComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 11);\n    i0.ɵɵtemplate(2, TicketsComponent_div_11_div_2_Template, 24, 18, \"div\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.tickets);\n  }\n}\nexport class TicketsComponent {\n  constructor(ticketService) {\n    this.ticketService = ticketService;\n    this.infoSeleccionada = '';\n    this.mostrarEstructura = false;\n    this.tickets = [];\n  }\n  //TICKET ESTRUCTURA\n  mostrarEstructuraConsulta() {\n    this.mostrarEstructura = true;\n    this.estructuraConsulta = {\n      cliente: {\n        nombre: \"\",\n        apellido: \"\",\n        contacto: {\n          email: \"\",\n          telefonos: []\n        },\n        localidad: {\n          codigoPostal: 0,\n          descripcion: \"\"\n        },\n        ubicacion: {\n          geolocalizacion: {\n            type: \"Point\",\n            coordinates: [0, 0]\n          },\n          properties: {\n            name: \"\"\n          }\n        },\n        plan: {\n          nombre: \"\",\n          canales: []\n        },\n        esEmpleado: false\n      },\n      comentarioCliente: \"\",\n      infoTicket: [{\n        fecha: \"\",\n        hora: \"\",\n        estado: \"\",\n        responsableTicket: {\n          nombre: \"\",\n          apellido: \"\"\n        },\n        motivo: \"\"\n      }],\n      derivacion: {\n        historialDerivaciones: [{\n          fecha: \"2023-11-06\",\n          hora: \"\",\n          departamento: \"\",\n          responsables: [{\n            nombre: \"\",\n            apellido: \"\",\n            soluciones: [{\n              descripcion: \"\",\n              exito: true\n            }],\n            ticketCerrado: true\n          }]\n        }]\n      }\n    };\n  }\n  cargarTicketsTodos() {\n    this.ticketService.traerTodos().subscribe(data => this.handleResponse(data), error => this.handleError(error));\n  }\n  handleResponse(data) {\n    this.mostrarEstructura = false;\n    this.tickets = data;\n    this.infoSeleccionada = '';\n  }\n  handleError(error) {\n    this.mostrarEstructura = false;\n    console.error('Error al cargar tickets:', error);\n    this.infoSeleccionada = 'Error al cargar tickets.';\n  }\n  mostrarInfo(info) {\n    this.infoSeleccionada = info;\n  }\n  static #_ = this.ɵfac = function TicketsComponent_Factory(t) {\n    return new (t || TicketsComponent)(i0.ɵɵdirectiveInject(i1.TicketsService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TicketsComponent,\n    selectors: [[\"app-tickets\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"section-container\"], [1, \"container\"], [1, \"botones\"], [1, \"col-12\", 2, \"padding\", \"0\"], [1, \"btn-group-vertical\"], [1, \"btn\", \"btn-dark\", \"mr-2\", 3, \"click\"], [1, \"respuesta\"], [4, \"ngIf\"], [1, \"card\"], [1, \"card-header\"], [1, \"mb-0\"], [\"id\", \"accordion\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card-header\", 3, \"id\"], [\"data-toggle\", \"collapse\", \"aria-expanded\", \"true\", 1, \"btn\", \"btn-link\"], [\"data-parent\", \"#accordion\", 1, \"collapse\", 3, \"id\"], [1, \"card-body\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function TicketsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_5_listener() {\n          return ctx.mostrarEstructuraConsulta();\n        });\n        i0.ɵɵtext(6, \"Ver estructura\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function TicketsComponent_Template_button_click_7_listener() {\n          return ctx.cargarTicketsTodos();\n        });\n        i0.ɵɵtext(8, \"Traer Todos\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵtemplate(10, TicketsComponent_div_10_Template, 9, 3, \"div\", 7);\n        i0.ɵɵtemplate(11, TicketsComponent_div_11_Template, 3, 1, \"div\", 7);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarEstructura);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.mostrarEstructura);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i2.JsonPipe, i2.DatePipe],\n    styles: [\".section-container[_ngcontent-%COMP%] {\\n  background: rgb(93,109,126);\\n  background: linear-gradient(90deg, rgba(93,109,126,1) 34%, rgba(174,182,191,1) 92%);\\n  max-height: 100vw;\\n  overflow-y: hidden;\\n}\\nhtml[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n}\\n.boton-largo[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  display: flex;\\n  padding: 0;\\n}\\n\\n.botones[_ngcontent-%COMP%] {\\n  flex: 1;\\n  margin-top: 10px;\\n  flex-direction: column;\\n  height: 100vh;\\n  width: 50%;\\n  justify-content: space-around;\\n}\\n\\n.boton[_ngcontent-%COMP%] {\\n  margin-bottom: 60px;\\n  margin-right: 2%;\\n}\\n\\n.respuesta[_ngcontent-%COMP%] {\\n  flex: 1;\\n  border-left: 2px solid #5D6D7E ;\\n  background-color: rgba(161, 169, 179, 0.151);\\n}\\n\\n.datos-cliente[_ngcontent-%COMP%] {\\n  border: 1px solid #ddd;\\n  padding: 10px;\\n  margin-bottom: 15px;\\n  border-radius: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdGlja2V0cy90aWNrZXRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQkFBMkI7RUFDM0IsbUZBQW1GO0VBQ25GLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFNBQVM7RUFDVCxVQUFVO0VBQ1YsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsVUFBVTtBQUNaOztBQUVBO0VBQ0UsT0FBTztFQUNQLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLFVBQVU7RUFDViw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsT0FBTztFQUNQLCtCQUErQjtFQUMvQiw0Q0FBNEM7QUFDOUM7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VjdGlvbi1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kOiByZ2IoOTMsMTA5LDEyNik7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgcmdiYSg5MywxMDksMTI2LDEpIDM0JSwgcmdiYSgxNzQsMTgyLDE5MSwxKSA5MiUpO1xuICBtYXgtaGVpZ2h0OiAxMDB2dztcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xufVxuaHRtbCwgYm9keSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5ib3Rvbi1sYXJnbyB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMDtcbn1cblxuLmJvdG9uZXMge1xuICBmbGV4OiAxO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDEwMHZoO1xuICB3aWR0aDogNTAlO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbn1cblxuLmJvdG9uIHtcbiAgbWFyZ2luLWJvdHRvbTogNjBweDtcbiAgbWFyZ2luLXJpZ2h0OiAyJTtcbn1cblxuLnJlc3B1ZXN0YSB7XG4gIGZsZXg6IDE7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgIzVENkQ3RSA7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTYxLCAxNjksIDE3OSwgMC4xNTEpO1xufVxuXG4uZGF0b3MtY2xpZW50ZSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","TicketsComponent","constructor","ticketService","mostrarEstructuraConsulta","mostrarEstructura","estructuraConsulta","cliente","nombre","apellido","contacto","email","telefonos","localidad","codigoPostal","descripcion","ubicacion","geolocalizacion","type","coordinates","properties","name","plan","canales","esEmpleado","comentarioCliente","infoTicket","fecha","hora","estado","responsableTicket","motivo","derivacion","historialDerivaciones","departamento","responsables","soluciones","exito","ticketCerrado","cargarTicketsTodos","traerTodos","subscribe","data","handleResponse","error","handleError","tickets","infoSeleccionada","console","mostrarInfo","info","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Dowloads\\Ticketera-front-main\\Ticketera-front-main\\src\\app\\pages\\tickets\\tickets.component.html","D:\\Dowloads\\Ticketera-front-main\\Ticketera-front-main\\src\\app\\pages\\tickets\\tickets.component.ts"],"sourcesContent":["<section class=\"section-container\">\n  <div class=\"container\">\n    <div class=\"botones\">\n      <div class=\"col-12\" style=\"padding: 0;\">\n        <div class=\"btn-group-vertical\">\n          <button class=\"btn btn-dark mr-2 \" (click)=\"mostrarEstructuraConsulta()\">Ver estructura</button>\n          <button class=\"btn btn-dark mr-2 \" (click)=\"cargarTicketsTodos()\">Traer Todos</button>\n        </div>\n      </div>\n    </div>\n\n\n    <div class=\"respuesta\">\n      <div *ngIf=\"mostrarEstructura\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h5 class=\"mb-0\">\n              <h3>Estructura de Consulta:</h3>\n              <pre>{{ estructuraConsulta | json }}</pre>\n            </h5>\n          </div>\n        </div>\n      </div>\n      <div *ngIf=\"!mostrarEstructura\">\n\n        <div id=\"accordion\">\n          <div class=\"card\" *ngFor=\"let ticket of tickets; let i = index\">\n            <div class=\"card-header\" id=\"heading{{i}}\">\n              <h5 class=\"mb-0\">\n                <button class=\"btn btn-link\" data-toggle=\"collapse\" [attr.data-target]=\"'#collapse' + i\"\n                  aria-expanded=\"true\" [attr.aria-controls]=\"'collapse' + i\">\n                  Ticket {{ i + 1 }}: {{ ticket.cliente.nombre }} {{ ticket.cliente.apellido }}\n                </button>\n              </h5>\n            </div>\n\n            <div id=\"collapse{{i}}\" class=\"collapse\" [attr.aria-labelledby]=\"'heading' + i\" data-parent=\"#accordion\">\n              <div class=\"card-body\">\n                <p>Email: {{ ticket.cliente.contacto.email }}</p>\n                <p>Teléfonos: <span *ngFor=\"let telefono of ticket.cliente.contacto.telefonos; let last = last\">\n                    {{ telefono }}<span *ngIf=\"!last\"> / </span>\n                  </span></p>\n                <p>Coordenadas: Latitud {{ ticket.cliente.ubicacion.geolocalizacion.coordinates[1] }},\n                  Longitud {{ ticket.cliente.ubicacion.geolocalizacion.coordinates[0] }}</p>\n                <p>Plan: {{ ticket.cliente.plan.nombre }}</p>\n                <ul>\n                  <li *ngFor=\"let canal of ticket.cliente.plan.canales\">{{ canal }}</li>\n                </ul>\n                <p>Comentario Cliente: {{ ticket.comentarioCliente }}</p>\n                <p>Es Empleado?: {{ ticket.cliente.esEmpleado ? 'Sí' : 'No' }}</p>\n                <div *ngFor=\"let info of ticket.infoTicket\">\n                  <p>Fecha: {{ info.fecha | date: 'dd/MM/yyyy' }}, Hora: {{ info.hora }}</p>\n                  <p>Estado: {{ info.estado }}</p>\n                  <p>Motivo: {{ info.motivo }}</p>\n                  <p>Responsable Ticket: {{ info.responsableTicket.nombre }} {{\n                    info.responsableTicket.apellido }}</p>\n                </div>\n                <div *ngFor=\"let derivacion of ticket.derivacion.historialDerivaciones\">\n                  <p>Derivación Fecha: {{ derivacion.fecha | date: 'dd/MM/yyyy' }}, Hora: {{\n                    derivacion.hora }}</p>\n                  <p>Departamento: {{ derivacion.departamento }}</p>\n                  <div *ngFor=\"let responsable of derivacion.responsables\">\n                    <p>Responsable: {{ responsable.nombre }} {{ responsable.apellido }}</p>\n                    <ul>\n                      <li *ngFor=\"let solucion of responsable.soluciones\">\n                        Solución: {{ solucion.descripcion }}, Éxito: {{ solucion.exito ? 'Sí' :\n                        'No' }}\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>","import { Component } from '@angular/core';\nimport { TicketsService } from 'src/app/services/tickets.service';\n@Component({\n  selector: 'app-tickets',\n  templateUrl: './tickets.component.html',\n  styleUrls: ['./tickets.component.css']\n})\nexport class TicketsComponent {\n  infoSeleccionada = '';\n  estructuraConsulta: any;\n  mostrarEstructura = false;\n  tickets: any[] = [];\n\n  constructor(private ticketService: TicketsService) { }\n\n  //TICKET ESTRUCTURA\n  mostrarEstructuraConsulta(): void {\n    this.mostrarEstructura = true;\n    this.estructuraConsulta = {\n      cliente: {\n        nombre: \"\",\n        apellido: \"\",\n        contacto: {\n          email: \"\",\n          telefonos: []\n        },\n        localidad: {\n          codigoPostal: 0,\n          descripcion: \"\"\n        },\n        ubicacion: {\n          geolocalizacion: {\n            type: \"Point\",\n            coordinates: [0, 0]\n          },\n          properties: {\n            name: \"\"\n          }\n        },\n        plan: {\n          nombre: \"\",\n          canales: []\n        },\n        esEmpleado: false\n      },\n      comentarioCliente: \"\",\n      infoTicket: [{\n        fecha: \"\",\n        hora: \"\",\n        estado: \"\",\n        responsableTicket: {\n          nombre: \"\",\n          apellido: \"\"\n        },\n        motivo: \"\"\n      }],\n      derivacion: {\n        historialDerivaciones: [{\n          fecha: \"2023-11-06\",\n          hora: \"\",\n          departamento: \"\",\n          responsables: [\n            {\n              nombre: \"\",\n              apellido: \"\",\n              soluciones: [\n                {\n                  descripcion: \"\",\n                  exito: true\n                }\n              ],\n              ticketCerrado: true\n            }\n          ]\n        }]\n      }\n    };\n  }\n\n  cargarTicketsTodos(): void {\n    this.ticketService.traerTodos().subscribe(data => this.handleResponse(data), error => this.handleError(error));\n  }\n  \n  private handleResponse(data: any): void {\n    this.mostrarEstructura = false;\n    this.tickets = data;\n    this.infoSeleccionada = '';\n  }\n\n  private handleError(error: any): void {\n    this.mostrarEstructura = false;\n    console.error('Error al cargar tickets:', error);\n    this.infoSeleccionada = 'Error al cargar tickets.';\n  }\n\n  mostrarInfo(info: string) {\n    this.infoSeleccionada = info;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}