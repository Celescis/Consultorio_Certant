<body>
    <div style="width: 55%;">
        <h2><b>Registro de Profesional</b></h2>
        <form [formGroup]="profesional" (submit)="onSubmit()">
            <div class="mb-3">
                <label for="matricula" class="form-label">Matricula</label>
                <input type="text" class="form-control" id="matricula" formControlName="matricula">
                <div *ngIf="profesional.controls['matricula'].errors && profesional.controls['matricula'].touched">
                    <small class="text-danger" *ngIf="profesional.controls['matricula'].errors['required']">El matricula
                        es obligatorio.</small>
                    <small class="text-danger" *ngIf="profesional.controls['matricula'].errors['pattern']">El matricula
                        debe tener 11 dígitos.</small>
                </div>
            </div>
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" formControlName="nombre">
                <div *ngIf="profesional.controls['nombre'].errors && profesional.controls['nombre'].touched">
                    <small class="text-danger">El nombre es obligatorio.</small>
                </div>
            </div>
            <div class="mb-3">
                <label for="apellido" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="apellido" formControlName="apellido">
                <div *ngIf="profesional.controls['apellido'].errors && profesional.controls['apellido'].touched">
                    <small class="text-danger">El apellido es obligatorio.</small>
                </div>
            </div>
            <div class="mb-3">
                <label for="especialidad" class="form-label">Especialidad</label>
                <input id="especialidad" type="text" readonly name="txt" placeholder="Especialidad"
                    class="form-control text-success"
                    [value]="especialidad ? inputEspecialidades : 'Elegir especialidad'" />
            </div>
            <div class="mb-3">
                <div formArrayName="disponibilidad">
                    <div *ngFor="let disponibilidad of disponibilidad.controls; let i = index" class="row">
                        <div [formGroupName]="i" class="col-12 mb-3">
                            <label class="form-label">Disponibilidad {{i + 1}}</label>
                            <div class="input-group">
                                <select class="form-control me-2" id="dia" formControlName="dia">
                                    <option value="Lunes">Lunes</option>
                                    <option value="Martes">Martes</option>
                                    <option value="Miércoles">Miércoles</option>
                                    <option value="Jueves">Jueves</option>
                                    <option value="Viernes">Viernes</option>
                                    <option value="Sábado">Sábado</option>
                                </select>
                                <input type="time" class="form-control me-2" placeholder="Hora de inicio" formControlName="horaInicio" min="09:00" max="23:00">
                                <input type="time" class="form-control me-2" placeholder="Hora de fin" formControlName="horaFin" min="09:00" max="23:00">                                
                                <button class="btn btn-primary" type="button" (click)="eliminarDisponibilidad(i)">Eliminar</button>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" type="button" (click)="agregarDisponibilidad()">Agregar disponibilidad</button>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="!profesional.valid">Guardar</button>
        </form>
    </div>
    <app-especialidad (botonClickeado)="clickListado($event)"></app-especialidad>
</body>